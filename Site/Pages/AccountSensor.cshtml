@page
@model AccountSensor

@{
    ViewData["Title"] = "Home page";
}

<div style="text-align: center;">
    @if (Model.AccountSensorEntity?.Name != null)
    {
        <div style="text-align: center; font-size: xx-large; text-decoration: underline; line-height: 200%;">@Model.AccountSensorEntity?.Name</div>
    }

    @if (Model.LastMeasurement != null)
    {
        @await Component.InvokeAsync("Waterlevel", new { measurementEx = Model.LastMeasurement })

        @await Component.InvokeAsync("MeasurementDetails", new
               {
                   accountSensor = Model.AccountSensorEntity, measurementEx = Model.LastMeasurement
               })
        
        @if (Model.Measurements != null)
        {
            <div style="width: 100%; height: 40vh">
                @await Component.InvokeAsync("MeasurementsGraph", new
                       {
                           Model.Measurements
                       })
            </div>
        }
    }
    else
    {
        <div style="text-align: center; font-size: xx-large">No sensor found with the specified Id.</div>
    }
</div>
